# Personal bash settings — sourced by devcontainer's .bashrc
# Safe to commit. NO secrets in this file — use ~/.env.secrets instead.

# ── History ──────────────────────────────────────────────
HISTCONTROL=ignoreboth
shopt -s histappend
HISTSIZE=1000
HISTFILESIZE=2000

# ── Shell options ────────────────────────────────────────
shopt -s checkwinsize

# ── Prompt ───────────────────────────────────────────────
case "$TERM" in
    xterm-color|*-256color) color_prompt=yes;;
esac

if [ "$color_prompt" = yes ]; then
    PS1='\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\$ '
else
    PS1='\u@\h:\w\$ '
fi
unset color_prompt

# ── Colors ───────────────────────────────────────────────
if [ -x /usr/bin/dircolors ]; then
    test -r ~/.dircolors && eval "$(dircolors -b ~/.dircolors)" || eval "$(dircolors -b)"
    alias ls='ls --color=auto'
    alias grep='grep --color=auto'
    alias fgrep='fgrep --color=auto'
    alias egrep='egrep --color=auto'
fi

# ── Aliases ──────────────────────────────────────────────
alias ll='ls -alF'
alias la='ls -A'
alias l='ls -CF'

# Load additional aliases                                                                                                                                                                                       
[[ -f ~/dotfiles/.bash_aliases ]] && source ~/dotfiles/.bash_aliases          

# ── Editor ───────────────────────────────────────────────
export EDITOR=code
export GIT_EDITOR="code --wait"

# ── Claude Code ──────────────────────────────────────────
export ENABLE_INCREMENTAL_TUI=true

# ── Secrets & local overrides (not committed) ────────────
[[ -f ~/.env.global ]] && source ~/.env.global
